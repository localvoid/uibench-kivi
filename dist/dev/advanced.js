(function(){'use strict';var p;function r(a,b,d){120!==b.charCodeAt(0)?a.setAttribute(b,d):109===b.charCodeAt(1)&&108===b.charCodeAt(2)?a.setAttributeNS("http://www.w3.org/XML/1998/namespace",b,d):108===b.charCodeAt(1)&&105===b.charCodeAt(2)?a.setAttributeNS("http://www.w3.org/1999/xlink",b,d):a.setAttribute(b,d)}function t(a,b,d){this.a=a;this.j=b;this.i=null;this.c=d;this.s=this.b=this.g=this.h=this.m=this.l=null}p=t.prototype;p.key=function(a){this.i=a;return this};p.props=function(a){this.c=a;return this};
p.data=function(a){this.c=a;return this};p.style=function(a){this.m=a;return this};p.className=function(a){this.h=a;return this};p.children=function(a){this.g=a;return this};function u(a,b){a.a|=16;a.g=b;return a}p.value=function(a){this.a|=64;this.g=a;return this};p.checked=function(a){this.a|=128;this.g=a;return this};function v(a){if(0===(a.a&4)){if(a=a.g,null!==a&&"string"!==typeof a)for(var b=0;b<a.length;b++)v(a[b])}else w(a.s)}
function x(a){if(0===(a.a&4)){if(a=a.g,null!==a&&"string"!==typeof a)for(var b=0;b<a.length;b++)x(a[b])}else a.s.detach()}function y(a){if(0===(a.a&256))if(0!==(a.a&4)){a=a.s;a.f|=1;null!==a.v&&0===(a.f&65536)&&y(a.v);0!==(a.f&2)&&aa(a);var b=a.w.U;null!==b&&b(a,a.props,a.state)}else{if(null!==a.g&&(a=a.g,"string"!==typeof a))for(b=0;b<a.length;b++)y(a[b])}else x(a)}
function ba(a,b){var d=a.a;0!==(d&1)?a.b=document.createTextNode(a.c):0!==(d&2)?a.b=0===(d&131072)?0===(d&32768)?document.createElement(a.j):document.createElementNS("http://www.w3.org/2000/svg",a.j):a.j.createElement():0===(d&256)&&(b=ca(a.j,b,a.c),a.b=b.element,a.s=b)}
function z(a,b){var d,c,e,g,f=a.a,k;if(0!==(f&10)){k=a.b;if(0===(f&262144)){var l=a.c;if(null!==l)for(g=Object.keys(l),d=0,c=g.length;d<c;d++)e=g[d],k[e]=l[e];if(null!==a.l)for(g=Object.keys(a.l),d=0,c=g.length;d<c;d++)e=g[d],r(k,e,a.l[e]);null!==a.m&&(0===(f&32768)?k.style.cssText=a.m:k.setAttribute("style",a.m));null!==a.h&&(0===(f&32768)?k.className=a.h:k.setAttribute("class",a.h))}else 0===(f&8)?a.j.update(k,void 0,a.c):b.w.j.update(k,void 0,a.c);e=a.g;if(null!==e)if(0===(a.a&2048))if(0===(a.a&
192))if("string"===typeof e)k.textContent=e;else for(d=0,c=e.length;d<c;d++)A(a,e[d],null,b);else 0!==(a.a&64)?a.b.value=a.g:a.b.checked=a.g;else k.innerHTML=e}else 0!==(f&4)&&(k=a.b,null!==a.h&&(0===(f&32768)?k.className=a.h:k.setAttribute("class",a.h)),B(a.s))}function A(a,b,d,c){a=a.b;null===b.b?(ba(b,c),0!==(b.a&4)&&w(b.s),z(b,c),a.insertBefore(b.b,d)):(a.insertBefore(b.b,d),v(b),B(b.s,0===(b.a&512)?b.c:null))}
function da(a,b,d,c){a=a.b;null===b.b?(ba(b,c),a.replaceChild(b.b,d.b),0!==(b.a&4)&&w(b.s),z(b,c)):(a.replaceChild(b.b,d.b),v(b),B(b.s,0===(b.a&512)?b.c:null));y(d)}function C(a,b){a.b.removeChild(b.b);y(b)}
function D(a,b,d){var c=a.b,e=a.a,g;b.b=a.b;if(0!==(e&1))a.c!==b.c&&(a.b.nodeValue=b.c);else if(0!==(e&10)){if(0===(e&262144)){if(a.c!==b.c){g=a.c;var f=b.c,k=Object.keys(g),l,h;for(h=0;h<k.length;h++){l=k[h];var m=f[l];g[l]!==m&&(c[l]=m)}}if(a.l!==b.l)if(0===(a.a&32))for(g=a.l,f=b.l,k=Object.keys(g),h=0;h<k.length;h++)l=k[h],m=f[l],g[l]!==m&&r(c,l,m);else if(g=a.l,f=b.l,null!==g)if(null===f)for(l=Object.keys(g),k=0;k<l.length;k++)c.removeAttribute(l[k]);else{l=Object.keys(g);for(k=0;k<l.length;k++)h=
l[k],f.hasOwnProperty(h)?(m=f[h],g[h]!==m&&r(c,h,m)):c.removeAttribute(h);l=Object.keys(f);for(k=0;k<l.length;k++)h=l[k],g.hasOwnProperty(h)||r(c,h,f[h])}else if(null!==f)for(l=Object.keys(f),k=0;k<l.length;k++)h=l[k],r(c,h,f[h]);a.m!==b.m&&(g=null===b.m?"":b.m,0===(e&32768)?c.style.cssText=g:c.setAttribute("style",g));a.h!==b.h&&(g=null===b.h?"":b.h,0===(e&32768)?c.className=g:c.setAttribute("class",g))}else a.c!==b.c&&(0===(e&8)?a.j.update(c,a.c,b.c):d.w.j.update(c,a.c,b.c));if(0===(a.a&192)){if(a.g!==
b.g)if(0===(a.a&2048))if(c=a.g,b=b.g,f=0,k=!1,"string"===typeof c)if(null===b)a.b.removeChild(a.b.firstChild);else if("string"===typeof b)(d=a.b.firstChild)?d.nodeValue=b:a.b.textContent=b;else for(a.b.removeChild(a.b.firstChild);f<b.length;)A(a,b[f++],null,d);else if("string"===typeof b){if(null!==c)for(a.b.textContent="";f<c.length;)y(c[f++]);a.b.textContent=b}else if(null!==c&&0!==c.length)if(null===b||0===b.length)for(a.b.textContent="";f<c.length;)y(c[f++]);else if(1===c.length&&1===b.length)e=
c[0],g=b[0],E(e,g)?D(e,g,d):da(a,g,e,d);else if(1===c.length){e=c[0];if(0===(a.a&16))for(;f<b.length;){g=b[f++];if(E(e,g)){D(e,g,d);k=!0;break}A(a,g,e.b,d)}else for(;f<b.length;){g=b[f++];if(e.i===g.i){D(e,g,d);k=!0;break}A(a,g,e.b,d)}if(k)for(;f<b.length;)A(a,b[f++],null,d);else C(a,e)}else if(1===b.length){g=b[0];if(0===(a.a&16))for(;f<c.length;){e=c[f++];if(E(e,g)){D(e,g,d);k=!0;break}C(a,e)}else for(;f<c.length;){e=c[f++];if(e.i===g.i){D(e,g,d);k=!0;break}C(a,e)}if(k)for(;f<c.length;)C(a,c[f++]);
else A(a,g,null,d)}else if(0===(a.a&16)){e=f=0;k=c.length-1;for(g=b.length-1;f<=k&&e<=g;){l=c[f];h=b[e];if(!E(l,h))break;f++;e++;D(l,h,d)}for(;f<=k&&e<=g;){l=c[k];h=b[g];if(!E(l,h))break;k--;g--;D(l,h,d)}for(;f<=k&&e<=g;)l=c[f++],h=b[e++],E(l,h)?D(l,h,d):da(a,h,l,d);if(f<=k){do C(a,c[f++]);while(f<=k)}else if(e<=g){c=g+1;c=c<b.length?b[c].b:null;do A(a,b[e++],c,d);while(e<=g)}}else{e=m=0;k=c.length-1;l=b.length-1;f=c[m];g=b[e];h=c[k];var n=b[l],q,K;a:do{for(;f.i===g.i;){D(f,g,d);m++;e++;if(m>k||e>
l)break a;f=c[m];g=b[e]}for(;h.i===n.i;){D(h,n,d);k--;l--;if(m>k||e>l)break a;h=c[k];n=b[l]}if(f.i===n.i){D(f,n,d);f=l+1;f=f<b.length?b[f].b:null;a.b.insertBefore(n.b,f);m++;l--;if(m>k||e>l)break a;f=c[m];n=b[l];continue a}if(h.i===g.i){D(h,g,d);a.b.insertBefore(g.b,f.b);k--;e++;if(m>k||e>l)break a;h=c[k];g=b[e]}}while(0);if(m>k)for(f=l+1,f=f<b.length?b[f].b:null;e<=l;)A(a,b[e++],f,d);else if(e>l)for(;m<=k;)C(a,c[m++]);else{var fa=k-m+1,f=l-e+1;g=Array(f);for(h=0;h<f;h++)g[h]=-1;var V=!1,J,W=n=0,
P=0;if(4>=f||16>=fa*f)for(h=m;h<=k;h++){J=!0;q=c[h];if(P<f)for(m=e;m<=l;m++)if(K=b[m],q.i===K.i){g[m-e]=h;n>m?V=!0:n=m;D(q,K,d);P++;J=!1;break}J&&(C(a,q),W++)}else{var ga=new Map;for(h=e;h<=l;h++)q=b[h],ga.set(q.i,h);for(h=m;h<=k;h++)J=!0,q=c[h],P<f&&(m=ga.get(q.i),void 0!==m&&(K=b[m],g[m-e]=h,n>m?V=!0:n=m,D(q,K,d),P++,J=!1)),J&&(C(a,q),W++)}if(V){k=g.slice(0);c=[];c.push(0);l=0;for(h=g.length;l<h;l++)if(-1!==g[l])if(m=c[c.length-1],g[m]<g[l])k[l]=m,c.push(l);else{m=0;for(n=c.length-1;m<n;)q=(m+n)/
2|0,g[c[q]]<g[l]?m=q+1:n=q;g[l]<g[c[m]]&&(0<m&&(k[l]=c[m-1]),c[m]=l)}m=c.length;for(n=c[m-1];0<m--;)c[m]=n,n=k[n];m=c.length-1;for(h=f-1;0<=h;h--)-1===g[h]?(n=h+e,q=b[n],f=n+1,f=f<b.length?b[f].b:null,A(a,q,f,d)):0>m||h!==c[m]?(n=h+e,q=b[n],f=n+1,f=f<b.length?b[f].b:null,a.b.insertBefore(q.b,f)):m--}else if(fa-W!==f)for(h=f-1;0<=h;h--)-1===g[h]&&(n=h+e,q=b[n],f=n+1,f=f<b.length?b[f].b:null,A(a,q,f,d))}}else{if(null!==b&&0<b.length)for(f=0;f<b.length;f++)A(a,b[f],null,d)}else c.innerHTML=b.g}else 0!==
(e&64)?c.value!==b.g&&(c.value=b.g):c.checked!==b.g&&(c.checked=b.g)}else d=b.s=a.s,a.h!==b.h&&(g=null===b.h?"":b.h,0===(e&32768)?c.className=g:c.setAttribute("class",g)),0!==(e&1024)&&a.c===b.c||B(d,0===(e&512)?b.c:void 0)}function E(a,b){return a.a===b.a&&a.j===b.j&&a.i===b.i}function F(){this.o=4;this.a=0;this.j="div";this.U=this.T=this.P=this.F=this.H=this.M=this.V=null}p=F.prototype;p.tagName=function(a){this.j=a;return this};function G(a,b){a.o|=b.o;a.a|=b.o;a.j=b;return a}
p.canvas=function(){this.o|=65536;this.a|=65536;this.j="canvas";return this};p.init=function(a){this.F=a;return this};p.update=function(a){this.M=a;return this};p.O=function(a){return new t(4,this,void 0===a?null:a)};function H(a,b){return new t(1028,a,void 0===b?null:b)}
function ca(a,b,d){var c;c=0===(a.a&131072)?0===(a.a&32768)?document.createElement(a.j):document.createElementNS("http://www.w3.org/2000/svg",a.j):a.j.createElement();b=new I(a.o,a,c,b,d);0!==(a.a&1)&&(c.X=b);null!==a.H&&(b.state=a.H(b,b.props));null!==a.F&&a.F(b,b.props,b.state);return b}function I(a,b,d,c,e){this.f=a;this.W=0;this.w=b;this.element=d;this.depth=void 0===c?0:c.depth+1;this.props=void 0===e?null:e;this.state=null;this.v=0===(a&65536)?null:d.getContext("2d");this.L=this.J=null}
I.prototype.u=function(){return 0===(this.f&131072)?new t(8,null,null):this.w.j.u()};I.prototype.update=function(a){B(this,a)};function L(a,b){null===a.v?(b.s=a,b.b=a.element,z(b,a)):D(a.v,b,a);a.v=b}function w(a){ea(a);null!==a.v&&0===(a.f&65536)&&v(a.v)}I.prototype.detach=function(){null!==this.v&&0===(this.f&65536)&&x(this.v);aa(this)};I.prototype.subscribe=function(a){return a.Y(this)};
function B(a,b){var d=a.f;if(void 0!==b&&0===(d&1024)){var c=a.props,e=a.w.V;null!==e?e(a,c,b):0===(a.f&4)&&(a.f|=4,ha(a));a.props=b}if(6===(a.f&6))if(0===(M&8)||0!==(M&32)||0!==(d&256)||0<ia())a.w.M(a,a.props,a.state),a.W=N,a.f&=-133;else if(ja(),b=O,0===(a.f&128)){a.f|=128;d=a.depth;for(b.a|=1;d>=b.B.length;)b.B.push(null);c=b.B[d];null===c?b.B[d]=[a]:c.push(a)}}function ea(a){a.f|=2;var b=a.w.P;null!==b&&b(a,a.props,a.state)}
function aa(a){0!==(a.f&512)&&(ka--,0===ka&&(M&=-9));a.f&=-531;for(var b=a.J;null!==b;)b.R(),b=b.S;a.J=null;ha(a);b=a.w.T;null!==b&&b(a,a.props,a.state)}function ha(a){for(var b=a.L;null!==b;)b.R(),b=b.S;a.L=null}function la(){var a=document.querySelector("#App"),b=ca(ma,void 0,null);a.appendChild(b.element);ea(b);B(b);return b}function Q(){this.a=0;this.B=[];this.A=this.G=this.C=this.D=null}Q.prototype.write=function(a){this.a|=2;null===this.D&&(this.D=[]);this.D.push(a)};
Q.prototype.read=function(a){this.a|=4;null===this.C&&(this.C=[]);this.C.push(a)};Q.prototype.focus=function(a){this.A=a};var M=0,N=0,R=[],S=[],na=new Q,O=new Q,T=[],oa=document.createTextNode(""),pa="__kivi"+Math.random(),ka=0,U=6,qa=60,X=0,ra=0;(new MutationObserver(sa)).observe(oa,{characterData:!0});window.addEventListener("message",ta);function ja(){0===(M&4)&&(M|=4,requestAnimationFrame(ua))}
function ta(a){if(a.source===window&&a.data===pa){M&=-3;a=S;S=[];for(var b=0;b<a.length;b++)a[b]();N++}}
function ua(a){var b,d;M&=-21;0!==(M&8)&&(va(function(){qa=Math.round((qa+1/((window.performance.now()-a)/1E3))/2);X+=45>qa?-1:1;5<X?(X=0,U+=.1):-5>X&&(X=0,U*=.66);6<U?U=6:2>U&&(U=2)}),ra=a+U);var c=O;O=na;na=c;for(d=0;d<T.length;d++)T[d].f|=4;do{for(;0!==(c.a&4);)for(c.a&=-5,b=c.C,c.C=null,d=0;d<b.length;d++)b[d]();for(;0!==(c.a&3);){if(0!==(c.a&1)){c.a&=-2;var e=c.B;for(d=0;d<e.length;d++){var g=e[d];if(null!==g)for(e[d]=null,b=0;b<g.length;b++)B(g[b])}}if(0!==(c.a&2))for(c.a&=-3,b=c.D,c.D=null,
d=0;d<b.length;d++)b[d]()}d=0;for(b=T.length;d<b;)e=T[d++],0===(e.f&16)?(e.f&=-33,d===b?T.pop():T[--d]=T.pop()):B(e)}while(0!==(c.a&7));for(;0!==(c.a&8);)for(c.a&=-9,b=c.G,c.G=null,d=0;d<b.length;d++)b[d]();null!==c.A&&(c.A.constructor===t?c.A.b.focus():c.A.focus(),c.A=null);0<T.length&&ja();N++}function sa(){for(;0<R.length;){var a=R;R=[];for(var b=0;b<a.length;b++)a[b]();N++}M&=-2}function va(a){0===(M&2)&&(M|=2,window.postMessage(pa,"*"));S.push(a)}
function ia(){if(0!==(M&16))return 0;var a=ra-performance.now();return 0>=a?(M|=16,0):a}function Y(a){this.o=131072;this.a=0;this.K=a;this.I=this.N=this.h=this.m=this.l=this.c=null}p=Y.prototype;p.props=function(a){this.c=a;return this};p.style=function(a){this.m=a;return this};p.className=function(a){this.h=a;return this};function Z(a){a.a|=1;return a}function wa(a,b){a.o|=262144;a.N=b;return a}p.O=function(a){return new t(2|this.o,this,void 0===a?null:a)};
p.u=function(a){return new t(8|this.o,this,void 0===a?null:a)};
p.createElement=function(){var a,b,d,c=this.I;if(null===c){c=0===(this.a&32768)?document.createElement(this.K):document.createElementNS("http://www.w3.org/2000/svg",this.K);if(null!==this.c)for(b=Object.keys(this.c),a=0;a<b.length;a++)d=b[a],c[d]=this.c[d];if(null!==this.l)for(b=Object.keys(this.l),a=0;a<b.length;a++)d=b[a],r(c,d,this.l[d]);null!==this.m&&(0===(this.a&32768)?c.style.cssText=this.m:c.setAttribute("style",this.m));null!==this.h&&(0===(this.a&32768)?c.className=this.h:c.setAttribute("class",
this.h));return 0!==(this.a&1)?(this.I=c,c.cloneNode(!1)):c}return c.cloneNode(!1)};p.update=function(a,b,d){this.N(a,b,d)};
var xa=G(function(){var a=new F;a.a|=1;return a}(),Z(new Y("td")).className("TableCell")).update(function(a,b){L(a,a.u().children(b))}),ya=function(a){return function(b){var d;a:{d=b.currentTarget;d=void 0===d?null:d;var c=b.target;do{if(c.matches(".TableCell")){d=c;break a}c=c.parentElement}while(c!==d);d=null}null!==d&&(c=d.X,a(b,c,c.props,c.state,d))}}(function(a,b,d){console.log("Click",d);a.stopPropagation()}),za=G(new F,wa(Z(new Y("tr")),function(a,b,d){void 0===b?(a.className=d.active?"TableRow active":
"TableRow",a.setAttribute("data-id",""+d.id)):b.active!==d.active&&(a.className=d.active?"TableRow active":"TableRow")})).init(function(a){a.element.onclick=ya}).update(function(a,b){for(var d=b.props,c=[xa.O("#"+b.id)],e=0;e<d.length;e++)c.push(H(xa,d[e]));L(a,a.u().data(b).children(c))}),Aa=G(new F,Z(new Y("table")).className("Table")).update(function(a,b){b=b.items;for(var d=[],c=0;c<b.length;c++){var e=b[c];d.push(H(za,e).key(e.id))}L(a,a.u().children([u(new t(2,"tbody",null),d)]))}),Ba=G(new F,
wa(Z(new Y("div")).className("AnimBox"),function(a,b,d){var c=d.time;void 0===b?(a.setAttribute("data-id",""+d.id),a.style.cssText="border-radius:"+c%10+"px;background:rgba(0,0,0,"+(.5+c%10/10)+")"):b.time!==c&&(a.style.cssText="border-radius:"+c%10+"px;background:rgba(0,0,0,"+(.5+c%10/10)+")")})).update(function(a,b){L(a,a.u().data(b))}),Ca=G(new F,Z(new Y("div")).className("Anim")).update(function(a,b){b=b.items;for(var d=[],c=0;c<b.length;c++){var e=b[c];d.push(H(Ba,e).key(e.id))}L(a,u(a.u(),d))}),
Da=G(new F,Z(new Y("li")).className("TreeLeaf")).update(function(a,b){L(a,a.u().children(""+b.id))}),Ea=G(new F,Z(new Y("ul")).className("TreeNode")).update(function(a,b){for(var d=[],c=0;c<b.children.length;c++){var e=b.children[c];d.push((e.container?H(Ea,e):H(Da,e)).key(e.id))}L(a,u(a.u(),d))}),Fa=G(new F,Z(new Y("div")).className("Tree")).update(function(a,b){L(a,a.u().children([H(Ea,b.root)]))}),ma=G(new F,(new Y("div")).className("Main")).update(function(a,b){var d=b&&b.location,c=null;"table"===
d?c=[H(Aa,b.table)]:"anim"===d?c=[H(Ca,b.anim)]:"tree"===d&&(c=[H(Fa,b.tree)]);L(a,a.u().children(c))});uibench.init("kivi[adv]","0.11.0-alpha.2");document.addEventListener("DOMContentLoaded",function(){var a=la();uibench.run(function(b){a.update(b)},function(b){document.body.innerHTML="<pre>"+JSON.stringify(b,null," ")+"</pre>";a=null})});}).call();
