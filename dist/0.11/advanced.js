(function(){'use strict';var p;function r(a,b,c){120!==b.charCodeAt(0)?a.setAttribute(b,c):109===b.charCodeAt(1)&&108===b.charCodeAt(2)?a.setAttributeNS("http://www.w3.org/XML/1998/namespace",b,c):108===b.charCodeAt(1)&&105===b.charCodeAt(2)?a.setAttributeNS("http://www.w3.org/1999/xlink",b,c):a.setAttribute(b,c)}function u(a,b,c){this.a=a;this.i=b;this.h=null;this.c=c;this.s=this.b=this.g=this.l=this.m=this.j=null}p=u.prototype;p.key=function(a){this.h=a;return this};p.props=function(a){this.c=a;return this};
p.data=function(a){this.c=a;return this};p.style=function(a){this.m=a;return this};p.className=function(a){this.l=a;return this};p.children=function(a){this.g=a;return this};function v(a,b){a.a|=16;a.g=b;return a}p.value=function(a){this.a|=64;this.g=a;return this};p.checked=function(a){this.a|=128;this.g=a;return this};function w(a){if(0===(a.a&4)){if(a=a.g,null!==a&&"string"!==typeof a)for(var b=0;b<a.length;b++)w(a[b])}else x(a.s)}
function y(a){if(0===(a.a&4)){if(a=a.g,null!==a&&"string"!==typeof a)for(var b=0;b<a.length;b++)y(a[b])}else a.s.detach()}function z(a){if(0===(a.a&256))if(0!==(a.a&4)){a=a.s;a.f|=1;null!==a.v&&0===(a.f&65536)&&z(a.v);0!==(a.f&2)&&aa(a);var b=a.A.T;null!==b&&b(a,a.props,a.state)}else{if(null!==a.g&&(a=a.g,"string"!==typeof a))for(b=0;b<a.length;b++)z(a[b])}else y(a)}
function ba(a,b){var c=a.a;0!==(c&1)?a.b=document.createTextNode(a.c):0!==(c&2)?a.b=0===(c&131072)?0===(c&32768)?document.createElement(a.i):document.createElementNS("http://www.w3.org/2000/svg",a.i):a.i.createElement():0===(c&256)&&(b=ca(a.i,b,a.c),a.b=b.element,a.s=b)}
function A(a,b){var c,d,e,g,f=a.a,h;if(0!==(f&10)){h=a.b;if(0===(f&262144)){var l=a.c;if(null!==l)for(g=Object.keys(l),c=0,d=g.length;c<d;c++)e=g[c],h[e]=l[e];if(null!==a.j)for(g=Object.keys(a.j),c=0,d=g.length;c<d;c++)e=g[c],r(h,e,a.j[e]);null!==a.m&&(0===(f&32768)?h.style.cssText=a.m:h.setAttribute("style",a.m));null!==a.l&&(0===(f&32768)?h.className=a.l:h.setAttribute("class",a.l))}else 0===(f&8)?a.i.w(h,void 0,a.c):b.A.i.w(h,void 0,a.c);e=a.g;if(null!==e)if(0===(a.a&2048))if(0===(a.a&192))if("string"===
typeof e)h.textContent=e;else for(c=0,d=e.length;c<d;c++)B(a,e[c],null,b);else 0!==(a.a&64)?a.b.value=a.g:a.b.checked=a.g;else h.innerHTML=e}else 0!==(f&4)&&C(a.s)}function B(a,b,c,d){a=a.b;null===b.b?(ba(b,d),0!==(b.a&4)&&x(b.s),A(b,d),a.insertBefore(b.b,c)):(a.insertBefore(b.b,c),w(b),C(b.s,0===(b.a&512)?b.c:null))}function da(a,b,c,d){a=a.b;null===b.b?(ba(b,d),0!==(b.a&4)&&x(b.s),A(b,d),a.replaceChild(b.b,c.b)):(a.replaceChild(b.b,c.b),w(b),C(b.s,0===(b.a&512)?b.c:null));z(c)}
function D(a,b){a.b.removeChild(b.b);z(b)}function F(a,b){a.b.textContent="";for(a=0;a<b.length;a++)z(b[a])}
function G(a,b,c){var d=a.b,e=a.a,g;b.b=a.b;if(0!==(e&1))a.c!==b.c&&(a.b.nodeValue=b.c);else if(0!==(e&10)){if(0===(e&262144)){if(a.c!==b.c){g=a.c;var f=b.c,h=Object.keys(g),l,m;for(m=0;m<h.length;m++){l=h[m];var k=f[l];g[l]!==k&&(d[l]=k)}}if(a.j!==b.j)if(0===(a.a&32))for(g=a.j,f=b.j,h=Object.keys(g),m=0;m<h.length;m++)l=h[m],k=f[l],g[l]!==k&&r(d,l,k);else if(g=a.j,f=b.j,null!==g)if(null===f)for(l=Object.keys(g),h=0;h<l.length;h++)d.removeAttribute(l[h]);else{l=Object.keys(g);for(h=0;h<l.length;h++)m=
l[h],f.hasOwnProperty(m)?(k=f[m],g[m]!==k&&r(d,m,k)):d.removeAttribute(m);l=Object.keys(f);for(h=0;h<l.length;h++)m=l[h],g.hasOwnProperty(m)||r(d,m,f[m])}else if(null!==f)for(l=Object.keys(f),h=0;h<l.length;h++)m=l[h],r(d,m,f[m]);a.m!==b.m&&(g=null===b.m?"":b.m,0===(e&32768)?d.style.cssText=g:d.setAttribute("style",g));a.l!==b.l&&(g=null===b.l?"":b.l,0===(e&32768)?d.className=g:d.setAttribute("class",g))}else a.c!==b.c&&(0===(e&8)?a.i.w(d,a.c,b.c):c.A.i.w(d,a.c,b.c));if(0===(a.a&192)){if(a.g!==b.g)if(0===
(a.a&2048))if(e=a.g,b=b.g,d=0,h=!1,"string"===typeof e)if(null===b)a.b.removeChild(a.b.firstChild);else if("string"===typeof b)(c=a.b.firstChild)?c.nodeValue=b:a.b.textContent=b;else for(a.b.removeChild(a.b.firstChild);d<b.length;)B(a,b[d++],null,c);else if("string"===typeof b){if(null!==e)for(;d<e.length;)z(e[d++]);a.b.textContent=b}else if(null!==e&&0!==e.length)if(null===b||0===b.length)F(a,e);else if(1===e.length&&1===b.length)g=e[0],f=b[0],H(g,f)?G(g,f,c):da(a,f,g,c);else if(1===e.length){g=
e[0];if(0===(a.a&16))for(;d<b.length;){f=b[d++];if(H(g,f)){G(g,f,c);h=!0;break}B(a,f,g.b,c)}else for(;d<b.length;){f=b[d++];if(g.h===f.h){G(g,f,c);h=!0;break}B(a,f,g.b,c)}if(h)for(;d<b.length;)B(a,b[d++],null,c);else D(a,g)}else if(1===b.length){f=b[0];if(0===(a.a&16))for(;d<e.length;){if(g=e[d++],H(g,f)){G(g,f,c);h=!0;break}}else for(;d<e.length;)if(g=e[d++],g.h===f.h){G(g,f,c);h=!0;break}if(h){c=0;for(d--;c<d;)D(a,e[c++]);for(d++;d<e.length;)D(a,e[d++])}else F(a,e),B(a,f,null,c)}else if(0===(a.a&
16)){d=f=0;h=e.length-1;for(g=b.length-1;f<=h&&d<=g;){l=e[f];m=b[d];if(!H(l,m))break;f++;d++;G(l,m,c)}for(;f<=h&&d<=g;){l=e[h];m=b[g];if(!H(l,m))break;h--;g--;G(l,m,c)}for(;f<=h&&d<=g;)l=e[f++],m=b[d++],H(l,m)?G(l,m,c):da(a,m,l,c);if(f<=h){do D(a,e[f++]);while(f<=h)}else if(d<=g){e=g+1;e=e<b.length?b[e].b:null;do B(a,b[d++],e,c);while(d<=g)}}else{d=h=0;l=e.length-1;m=b.length-1;f=e[h];g=b[d];var k=e[l],n=b[m],q,K;a:do{for(;f.h===g.h;){G(f,g,c);h++;d++;if(h>l||d>m)break a;f=e[h];g=b[d]}for(;k.h===
n.h;){G(k,n,c);l--;m--;if(h>l||d>m)break a;k=e[l];n=b[m]}if(f.h===n.h){G(f,n,c);f=m+1;f=f<b.length?b[f].b:null;a.b.insertBefore(n.b,f);h++;m--;if(h>l||d>m)break a;f=e[h];n=b[m];continue a}if(k.h===g.h){G(k,g,c);a.b.insertBefore(g.b,f.b);l--;d++;if(h>l||d>m)break a;k=e[l];g=b[d]}}while(0);if(h>l)for(f=m+1,f=f<b.length?b[f].b:null;d<=m;)B(a,b[d++],f,c);else if(d>m)for(;h<=l;)D(a,e[h++]);else{var W=l-h+1,f=m-d+1;g=Array(f);for(k=0;k<f;k++)g[k]=-1;var X=!1,t=0,E=0;if(4>=f||16>=W*f)for(k=h;k<=l;k++){if(q=
e[k],E<f)for(n=d;n<=m;n++)if(K=b[n],q.h===K.h){g[n-d]=k;t>n?X=!0:t=n;G(q,K,c);E++;e[k]=null;break}}else{for(var ha=new Map,k=d;k<=m;k++)q=b[k],ha.set(q.h,k);for(k=h;k<=l;k++)q=e[k],E<f&&(n=ha.get(q.h),void 0!==n&&(K=b[n],g[n-d]=k,t>n?X=!0:t=n,G(q,K,c),E++,e[k]=null))}if(W===e.length&&0===E)for(F(a,e);d<f;)B(a,b[d++],null,c);else{for(k=W-E;0<k;)q=e[h++],null!==q&&(D(a,q),k--);if(X){h=g.slice(0);e=[];e.push(0);l=0;for(m=g.length;l<m;l++)if(-1!==g[l])if(k=e[e.length-1],g[k]<g[l])h[l]=k,e.push(l);else{k=
0;for(n=e.length-1;k<n;)q=(k+n)/2|0,g[e[q]]<g[l]?k=q+1:n=q;g[l]<g[e[k]]&&(0<k&&(h[l]=e[k-1]),e[k]=l)}k=e.length;for(n=e[k-1];0<k--;)e[k]=n,n=h[n];n=e.length-1;for(k=f-1;0<=k;k--)-1===g[k]?(t=k+d,q=b[t],f=t+1,f=f<b.length?b[f].b:null,B(a,q,f,c)):0>n||k!==e[n]?(t=k+d,q=b[t],f=t+1,f=f<b.length?b[f].b:null,a.b.insertBefore(q.b,f)):n--}else if(E!==f)for(k=f-1;0<=k;k--)-1===g[k]&&(t=k+d,q=b[t],f=t+1,f=f<b.length?b[f].b:null,B(a,q,f,c))}}}else{if(null!==b&&0<b.length)for(d=0;d<b.length;d++)B(a,b[d],null,
c)}else d.innerHTML=b.g}else 0!==(e&64)?d.value!==b.g&&(d.value=b.g):d.checked!==b.g&&(d.checked=b.g)}else c=b.s=a.s,0!==(e&1024)&&a.c===b.c||C(c,0===(e&512)?b.c:void 0)}function H(a,b){return a.a===b.a&&a.i===b.i&&a.h===b.h}function I(){this.o=4;this.a=0;this.i="div";this.T=this.S=this.O=this.G=this.I=this.w=this.U=null}p=I.prototype;p.tagName=function(a){this.i=a;"string"!==typeof a&&(this.o|=a.o,this.a|=a.o);return this};p.canvas=function(){this.o|=65536;this.a|=65536;this.i="canvas";return this};
p.init=function(a){this.G=a;return this};p.update=function(a){this.w=a;return this};p.N=function(a){return new u(4,this,void 0===a?null:a)};function J(a,b){return new u(1028,a,void 0===b?null:b)}function ca(a,b,c){var d;d=0===(a.a&131072)?0===(a.a&32768)?document.createElement(a.i):document.createElementNS("http://www.w3.org/2000/svg",a.i):a.i.createElement();b=new L(a.o,a,d,b,c);0!==(a.a&1)&&(d.W=b);null!==a.I&&(b.state=a.I(b,b.props));null!==a.G&&a.G(b,b.props,b.state);return b}
function L(a,b,c,d,e){this.f=a;this.V=0;this.A=b;this.element=c;this.depth=void 0===d?0:d.depth+1;this.props=void 0===e?null:e;this.state=null;this.v=0===(a&65536)?null:c.getContext("2d");this.M=this.K=null}L.prototype.u=function(){return 0===(this.f&131072)?new u(8,null,null):this.A.i.u()};L.prototype.update=function(a){C(this,a)};function M(a,b){null===a.v?(b.s=a,b.b=a.element,A(b,a)):G(a.v,b,a);a.v=b}function x(a){ea(a);null!==a.v&&0===(a.f&65536)&&w(a.v)}
L.prototype.detach=function(){null!==this.v&&0===(this.f&65536)&&y(this.v);aa(this)};L.prototype.subscribe=function(a){return a.X(this)};function C(a,b){if(void 0!==b&&0===(a.f&1024)){var c=a.props,d=a.A.U;null!==d?d(a,c,b):0===(a.f&4)&&(a.f|=4,fa(a));a.props=b}if(6===(a.f&6))if(0===(N&8)||0!==(N&32)||0!==(a.f&256)||0<ga())a.A.w(a,a.props,a.state),a.V=O,a.f&=-133;else if(P(),b=Q,0===(a.f&128)){a.f|=128;c=a.depth;for(b.a|=1;c>=b.C.length;)b.C.push(null);d=b.C[c];null===d?b.C[c]=[a]:d.push(a)}}
function ea(a){a.f|=2;var b=a.A.O;null!==b&&b(a,a.props,a.state)}function aa(a){0!==(a.f&512)&&(ia--,0===ia&&(N&=-9,R=0));a.f&=-531;for(var b=a.K;null!==b;)b.P(),b=b.R;a.K=null;fa(a);b=a.A.S;null!==b&&b(a,a.props,a.state)}function fa(a){for(var b=a.M;null!==b;)b.P(),b=b.R;a.M=null}function ja(a){var b=ca(ka,void 0,null);a.appendChild(b.element);ea(b);C(b);return b}function S(){this.a=0;this.C=[];this.B=this.H=this.D=this.F=null}S.prototype.write=function(a){this.a|=2;null===this.F&&(this.F=[]);this.F.push(a)};
S.prototype.read=function(a){this.a|=4;null===this.D&&(this.D=[]);this.D.push(a)};S.prototype.focus=function(a){this.B=a};var N=0,O=0,la=[],ma=[],na=new S,Q=new S,T=[],oa=document.createTextNode(""),pa="__kivi"+Math.random(),ia=0,U=6,qa=60,V=0,ra=0,R=0;(new MutationObserver(sa)).observe(oa,{characterData:!0});window.addEventListener("message",ta);function P(){0===(N&4)&&(N|=4,requestAnimationFrame(ua))}
function ta(a){if(a.source===window&&a.data===pa){N&=-3;a=ma;ma=[];for(var b=0;b<a.length;b++)a[b]();O++}}
function ua(a){var b;N&=-21;0!==(N&8)&&(0<R&&(qa+=.0165*(1E3/(a-R)-qa),V+=55>qa?-1:1,5<V?(V=0,U+=.1):-5>V&&(V=0,U*=.66),6<U?U=6:2>U&&(U=2)),R=a,ra=a+U,P());var c=Q;Q=na;na=c;for(a=0;a<T.length;a++)T[a].f|=4;do{for(;0!==(c.a&4);)for(c.a&=-5,b=c.D,c.D=null,a=0;a<b.length;a++)b[a]();for(;0!==(c.a&3);){if(0!==(c.a&1)){c.a&=-2;var d=c.C;for(a=0;a<d.length;a++){var e=d[a];if(null!==e)for(d[a]=null,b=0;b<e.length;b++)C(e[b])}}if(0!==(c.a&2))for(c.a&=-3,b=c.F,c.F=null,a=0;a<b.length;a++)b[a]()}a=0;for(b=
T.length;a<b;)d=T[a++],0===(d.f&16)?(d.f&=-33,a===b?T.pop():T[--a]=T.pop()):C(d)}while(0!==(c.a&7));for(;0!==(c.a&8);)for(c.a&=-9,b=c.H,c.H=null,a=0;a<b.length;a++)b[a]();null!==c.B&&(c.B.constructor===u?c.B.b.focus():c.B.focus(),c.B=null);0<T.length&&P();O++}function sa(){for(;0<la.length;){var a=la;la=[];for(var b=0;b<a.length;b++)a[b]();O++}N&=-2}function ga(){if(0!==(N&16))return 0;var a=ra-performance.now();return 0>=a?(N|=16,0):a}
function Y(a){this.o=131072;this.a=0;this.L=a;this.J=this.w=this.l=this.m=this.j=this.c=null}p=Y.prototype;p.props=function(a){this.c=a;return this};p.style=function(a){this.m=a;return this};p.className=function(a){this.l=a;return this};function Z(a){a.a|=1;return a}p.update=function(a){this.o|=262144;this.w=a;return this};p.N=function(a){return new u(2|this.o,this,void 0===a?null:a)};p.u=function(a){return new u(8|this.o,this,void 0===a?null:a)};
p.createElement=function(){var a,b,c,d=this.J;if(null===d){d=0===(this.a&32768)?document.createElement(this.L):document.createElementNS("http://www.w3.org/2000/svg",this.L);if(null!==this.c)for(b=Object.keys(this.c),a=0;a<b.length;a++)c=b[a],d[c]=this.c[c];if(null!==this.j)for(b=Object.keys(this.j),a=0;a<b.length;a++)c=b[a],r(d,c,this.j[c]);null!==this.m&&(0===(this.a&32768)?d.style.cssText=this.m:d.setAttribute("style",this.m));null!==this.l&&(0===(this.a&32768)?d.className=this.l:d.setAttribute("class",
this.l));return 0!==(this.a&1)?(this.J=d,d.cloneNode(!1)):d}return d.cloneNode(!1)};var va=new I;va.a|=1;
var wa=va.tagName(Z(new Y("td")).className("TableCell")).update(function(a,b){M(a,a.u().children(b))}),xa=function(a){return function(b){var c;a:{c=b.currentTarget;c=void 0===c?null:c;for(var d=b.target;d!==c;){if(d.matches(".TableCell")){c=d;break a}d=d.parentNode}c=null}null!==c&&(d=c.W,a(b,d,d.props,d.state,c))}}(function(a,b,c){console.log("Click",c);a.stopPropagation()}),ya=(new I).tagName(Z(new Y("tr")).update(function(a,b,c){void 0===b?(a.className=c.active?"TableRow active":"TableRow",a.setAttribute("data-id",
""+c.id)):b.active!==c.active&&(a.className=c.active?"TableRow active":"TableRow")})).init(function(a){a.element.onclick=xa}).update(function(a,b){for(var c=b.props,d=[wa.N("#"+b.id)],e=0;e<c.length;e++)d.push(J(wa,c[e]));M(a,a.u().data(b).children(d))}),za=(new I).tagName(Z(new Y("table")).className("Table")).update(function(a,b){b=b.items;for(var c=[],d=0;d<b.length;d++){var e=b[d];c.push(J(ya,e).key(e.id))}M(a,a.u().children([v(new u(2,"tbody",null),c)]))});
function Aa(a){return"border-radius:"+a%10+"px;background:rgba(0,0,0,"+(.5+a%10/10)+")"}
var Ba=(new I).tagName(Z(new Y("div")).className("AnimBox").update(function(a,b,c){void 0===b?(a.setAttribute("data-id",""+c.id),a.style.cssText=Aa(c.time)):b.time!==c.time&&(a.style.cssText=Aa(c.time))})).update(function(a,b){M(a,a.u().data(b))}),Ca=(new I).tagName(Z(new Y("div")).className("Anim")).update(function(a,b){b=b.items;for(var c=[],d=0;d<b.length;d++){var e=b[d];c.push(J(Ba,e).key(e.id))}M(a,v(a.u(),c))}),Da=(new I).tagName(Z(new Y("li")).className("TreeLeaf")).update(function(a,b){M(a,
a.u().children(""+b.id))}),Ea=(new I).tagName(Z(new Y("ul")).className("TreeNode")).update(function(a,b){for(var c=[],d=0;d<b.children.length;d++){var e=b.children[d];c.push((e.container?J(Ea,e):J(Da,e)).key(e.id))}M(a,v(a.u(),c))}),Fa=(new I).tagName(Z(new Y("div")).className("Tree")).update(function(a,b){M(a,a.u().children([J(Ea,b.root)]))}),ka=(new I).tagName((new Y("div")).className("Main")).update(function(a,b){var c=b&&b.location,d=null;"table"===c?d=[J(za,b.table)]:"anim"===c?d=[J(Ca,b.anim)]:
"tree"===c&&(d=[J(Fa,b.tree)]);M(a,a.u().children(d))});uibench.init("kivi[adv]","0.11.0");document.addEventListener("DOMContentLoaded",function(){var a=document.querySelector("#App"),b=ja(a);uibench.run(function(a){b.update(a)},function(c){a.innerHTML="<pre>"+JSON.stringify(c,null," ")+"</pre>";b=null})});}).call();
